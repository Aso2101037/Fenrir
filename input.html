<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Location Search</title>
</head>
<body>
  <h1>Location Search</h1>
  
  <label for="radius">検索半径（メートル）:</label>
  <input type="number" id="radius" placeholder="半径を入力">
  
  <label for="searchTerm">検索条件:</label>
  <input type="text" id="searchTerm" placeholder="検索条件を入力">
  
  <button onclick="searchLocations()">検索</button>
  
  <div id="results"></div>

  <script>
    function searchLocations() {
      const radiusInput = document.getElementById('radius');
      const searchTermInput = document.getElementById('searchTerm');
      const radius = parseInt(radiusInput.value);
      const searchTerm = searchTermInput.value;
      
      if (isNaN(radius) || radius <= 0 || !searchTerm.trim()) {
        alert('有効な検索条件を入力してください');
        return;
      }

      if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition(function(position) {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;

          // 位置情報を取得した後の処理をここに記述
          performLocationSearch(latitude, longitude, radius, searchTerm);
        }, function(error) {
          console.error('位置情報を取得できませんでした', error);
        });
      } else {
        alert('お使いのブラウザはGeolocation APIをサポートしていません');
      }
    }

    function performLocationSearch(latitude, longitude, radius, searchTerm) {
      // ここで位置情報を使った検索を行う処理を実装
      // 例えば、取得した位置情報を使ってAPIにリクエストを送り、結果を表示するなど
      // この例では、単純に結果を表示するだけのサンプルを示します
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = `現在位置: 緯度 ${latitude}, 経度 ${longitude}<br>`;
      resultsDiv.innerHTML += `検索半径: ${radius}メートル<br>`;
      resultsDiv.innerHTML += `検索条件: ${searchTerm}<br>`;
      // ここに検索結果を表示するための処理を追加する
    }
  </script>
</body>
</html>
